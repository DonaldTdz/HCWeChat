{"version":3,"sources":["./src/app/home/home-routing.module.ts","./src/app/home/home.module.ts","./src/app/home/index.component.html","./src/app/home/index.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAEvD,SAAS;AACoE;AAC1B;AACnD,MAAM;AAC0D;AAEhE,IAAM,MAAM,GAAW,CAAC;QACtB,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,iGAAsB;QACjC,QAAQ,EAAE;YACN,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE;YACpD,EAAE,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,wEAAc,EAAE,IAAI,EAAE,EAAE,SAAS,EAAE,OAAO,EAAE,EAAE,WAAW,EAAE,CAAC,oFAAa,CAAC,EAAE;SAC3G;KACF,CAAC,CAAC;AASH;IAAA;IAAiC,CAAC;IAArB,iBAAiB;QAP7B,+DAAQ,CAAC;YACR,OAAO,EAAE;gBACT,qEAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;gBAC7B,gEAAgE;aACjE;YACC,OAAO,EAAE,CAAC,qEAAY,CAAC;SACxB,CAAC;OACW,iBAAiB,CAAI;IAAD,wBAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;;;;;ACzBW;AACY;AACE;AAEG;AACP;AACnD,MAAM;AAC0D;AAWhE;IAAA;IAA0B,CAAC;IAAd,UAAU;QATtB,+DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,2EAAY;gBACZ,2EAAY;gBACZ,+EAAiB;aAClB;YACD,YAAY,EAAE,CAAC,wEAAc,CAAC;YAC9B,SAAS,EAAE,CAAE,oFAAa,CAAE;SAC7B,CAAC;OACW,UAAU,CAAI;IAAD,iBAAC;CAAA;AAAJ;;;;;;;;AClBvB,0EAA0E,iCAAiC,iDAAiD,mCAAmC,uDAAuD,UAAU,UAAU,kUAAkU,iCAAiC,glBAAglB,6BAA6B,8kBAA8kB,6BAA6B,8kBAA8kB,mCAAmC,w9BAAw9B,2BAA2B,4lCAA4lC,WAAW,sCAAsC,cAAc,+rBAA+rB,kBAAkB,6D;;;;;;;;;;;;;;;;;;;;;;;;ACApuK;AACC;AACP;AAC6B;AACa;AACnB;AAQlE;IAGI,wBAAoB,IAAiB,EAAS,GAAqB,EAAU,kBAAqC,EACtG,uBAAiD;QAD7D,iBACkE;QAD9C,SAAI,GAAJ,IAAI,CAAa;QAAS,QAAG,GAAH,GAAG,CAAkB;QAAU,uBAAkB,GAAlB,kBAAkB,CAAmB;QACtG,4BAAuB,GAAvB,uBAAuB,CAA0B;QAF7D,qBAAgB,GAAmB,IAAI,wFAAgB,EAAE,CAAC;QAI1D,aAAQ,GAAU;YACd,EAAE,SAAS,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,8DAAY,EAAE;YACpE,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,kDAAU,EAAE;YAClE,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,0EAAc,EAAE;YACtE,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,8DAAY,EAAE;SACvE,CAAC;QAEF,cAAS,GAAG,KAAK,CAAC;QAElB,YAAO,GAAU,EAAE,CAAC;QACpB,cAAS,GAAU,EAAE,CAAC;QACtB,qBAAgB,GAAU,EAAE,CAAC;QAC7B,aAAQ,GAAW,EAAE,CAAC;QAEtB,iBAAY,GAAG,EAAE,CAAC;QAClB,mBAAc,GAAG,KAAK,CAAC;QAEvB,aAAQ,GAAG,EAAE,CAAC;QAgCd,kBAAa,GAAG,UAAC,IAAgB;YAC7B,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC;YAC9C,KAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC7B,CAAC;IAtD8D,CAAC;IAqBlE,iCAAQ,GAAR;QAAA,iBAsBC;QArBG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,UAAC,GAAQ;YACvC,KAAI,CAAC,OAAO,GAAG,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;YAC1C,KAAI,CAAC,SAAS,GAAG,GAAG,CAAC,SAAS,CAAC;YAC/B,KAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,gBAAgB,CAAC;QACjD,CAAC,CAAC,CAAC;QACH,IAAI,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC;QAC1C,EAAE,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,QAAQ,IAAI,OAAO,CAAC;QAC7B,CAAC;QACD,EAAE,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YAC1B,IAAI,CAAC,QAAQ,IAAI,KAAK,CAAC;QAC3B,CAAC;QAED,EAAE,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;YACpC,IAAI,CAAC,QAAQ,IAAI,OAAO,CAAC;QAC7B,CAAC;QAED,EAAE,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;YACpC,IAAI,CAAC,QAAQ,IAAI,OAAO,CAAC;QAC7B,CAAC;QACD,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAED,oCAAW,GAAX;QAAA,iBAIC;QAHG,IAAI,CAAC,uBAAuB,CAAC,eAAe,EAAE,CAAC,SAAS,CAAC,UAAC,MAAwB;YAC9E,KAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC;QACnC,CAAC,CAAC;IACN,CAAC;IArDQ,cAAc;QAJ1B,gEAAS,CAAC;YACP,QAAQ,EAAE,gBAAgB;;SAE7B,CAAC;yCAI4B,iEAAW,EAAc,+DAAgB,EAA8B,8FAAiB;YAC7E,2GAAwB;OAJpD,cAAc,CA2D1B;IAAD,qBAAC;CAAA;AA3D0B","file":"home.module.chunk.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { environment } from '@env/environment';\r\n// layout\r\nimport { LayoutDefaultComponent } from '../layout/default/default.component';\r\nimport { IndexComponent } from './index.component';\r\n//权限判断\r\nimport { AppRouteGuard } from '../shared/auth/auth-route-guard';\r\n\r\nconst routes: Routes = [{\r\n  path: '',\r\n  component: LayoutDefaultComponent,\r\n  children: [\r\n      { path: '', redirectTo: 'index', pathMatch: 'full' },\r\n      { path: 'index', component: IndexComponent, data: { translate: 'index' }, canActivate: [AppRouteGuard] },\r\n  ]\r\n}];\r\n\r\n@NgModule({\r\n  imports: [\r\n  RouterModule.forChild(routes)\r\n  //RouterModule.forRoot(routes, { useHash: environment.useHash })\r\n],\r\n  exports: [RouterModule]\r\n})\r\nexport class HomeRoutingModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/home/home-routing.module.ts","import { NgModule } from '@angular/core';\r\nimport { SharedModule } from '@shared/shared.module';\r\nimport { LayoutModule } from '../layout/layout.module';\r\n\r\nimport { HomeRoutingModule } from './home-routing.module';\r\nimport { IndexComponent } from './index.component';\r\n//权限判断\r\nimport { AppRouteGuard } from '../shared/auth/auth-route-guard';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    LayoutModule,\r\n    HomeRoutingModule\r\n  ],\r\n  declarations: [IndexComponent],\r\n  providers: [ AppRouteGuard ]\r\n})\r\nexport class HomeModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/home/home.module.ts","module.exports = \"<div class=\\\"content__title\\\">\\r\\n    <h1>\\r\\n        {{ 'homeindex.title' | translate }}\\r\\n        <small class=\\\"text-sm hidden-xs\\\">{{ 'homeindex.welcome' | translate }}</small>\\r\\n    </h1>\\r\\n    <div style=\\\" float:right;\\\">我的角色：{{roleName}}</div>\\r\\n</div>\\r\\n<div nz-row nzGutter=\\\"16\\\">\\r\\n    <div nz-col nzXs=\\\"24\\\" nzSm=\\\"12\\\" nzMd=\\\"6\\\" class=\\\"mb-md\\\">\\r\\n        <div nz-row nzType=\\\"flex\\\" nzAlign=\\\"middle\\\" class=\\\"bg-primary rounded-md\\\">\\r\\n            <div nz-col nzSpan=\\\"12\\\" class=\\\"p-md text-white\\\">\\r\\n                <div class=\\\"h2 mt0\\\">{{activityFormInfo.isCheckedCount}} 单</div>\\r\\n                <p class=\\\"text-nowrap\\\">活动申请单</p>\\r\\n            </div>\\r\\n            <div nz-col nzSpan=\\\"12\\\">\\r\\n                <mini-bar height=\\\"35\\\" color=\\\"#fff\\\" borderWidth=\\\"3\\\" [padding]=\\\"[36, 30, 30, 30]\\\" [data]=\\\"webSite\\\"></mini-bar>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div nz-col nzXs=\\\"24\\\" nzSm=\\\"12\\\" nzMd=\\\"6\\\" class=\\\"mb-md\\\">\\r\\n        <div nz-row nzType=\\\"flex\\\" nzAlign=\\\"middle\\\" class=\\\"bg-success rounded-md\\\">\\r\\n            <div nz-col nzSpan=\\\"12\\\" class=\\\"p-md text-white\\\">\\r\\n                <div class=\\\"h2 mt0\\\">{{activityFormInfo.goodsCount}} 条</div>\\r\\n                <p class=\\\"text-nowrap\\\">申请商品</p>\\r\\n            </div>\\r\\n            <div nz-col nzSpan=\\\"12\\\">\\r\\n                <mini-bar height=\\\"35\\\" color=\\\"#fff\\\" borderWidth=\\\"3\\\" [padding]=\\\"[36, 30, 30, 30]\\\" [data]=\\\"webSite\\\"></mini-bar>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div nz-col nzXs=\\\"24\\\" nzSm=\\\"12\\\" nzMd=\\\"6\\\" class=\\\"mb-md\\\">\\r\\n        <div nz-row nzType=\\\"flex\\\" nzAlign=\\\"middle\\\" class=\\\"bg-orange rounded-md\\\">\\r\\n            <div nz-col nzSpan=\\\"12\\\" class=\\\"p-md text-white\\\">\\r\\n                <div class=\\\"h2 mt0\\\">{{activityFormInfo.checkCount}} 单</div>\\r\\n                <p class=\\\"text-nowrap\\\">待审批申请单</p>\\r\\n            </div>\\r\\n            <div nz-col nzSpan=\\\"12\\\">\\r\\n                <mini-bar height=\\\"35\\\" color=\\\"#fff\\\" borderWidth=\\\"3\\\" [padding]=\\\"[36, 30, 30, 30]\\\" [data]=\\\"webSite\\\"></mini-bar>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div nz-col nzXs=\\\"24\\\" nzSm=\\\"12\\\" nzMd=\\\"6\\\" class=\\\"mb-md\\\">\\r\\n        <div nz-row nzType=\\\"flex\\\" nzAlign=\\\"middle\\\" class=\\\"bg-pink rounded-md\\\">\\r\\n            <div nz-col nzSpan=\\\"12\\\" class=\\\"p-md text-white\\\">\\r\\n                <div class=\\\"h2 mt0\\\">{{activityFormInfo.weiChatAttention}} 人</div>\\r\\n                <p class=\\\"text-nowrap\\\">微信关注</p>\\r\\n            </div>\\r\\n            <div nz-col nzSpan=\\\"12\\\">\\r\\n                <mini-bar height=\\\"35\\\" color=\\\"#fff\\\" borderWidth=\\\"3\\\" [padding]=\\\"[36, 30, 30, 30]\\\" [data]=\\\"webSite\\\"></mini-bar>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<div nz-row nzGutter=\\\"16\\\">\\r\\n    <div nz-col nzXs=\\\"24\\\" nzMd=\\\"12\\\">\\r\\n        <nz-card [nzBordered]=\\\"false\\\">\\r\\n            <ng-template #title>\\r\\n                近12个月申请单数 (模拟数据)\\r\\n            </ng-template>\\r\\n            <bar height=\\\"275\\\" [data]=\\\"salesData\\\"></bar>\\r\\n        </nz-card>\\r\\n    </div>\\r\\n    <div nz-col nzXs=\\\"24\\\" nzMd=\\\"12\\\">\\r\\n        <nz-card [nzTitle]=\\\"nzTitle1\\\" [nzBordered]=\\\"false\\\">\\r\\n            <ng-template #nzTitle1>\\r\\n                24小时网站访问量和活动申请单笔数 (模拟数据)\\r\\n            </ng-template>\\r\\n            <timeline [data]=\\\"offlineChartData\\\" [height]=\\\"239\\\" [padding]=\\\"[0, 0, 0, 0]\\\" [titleMap]=\\\"{ y1: '网站访问量', y2: '申请单笔数' }\\\"></timeline>\\r\\n        </nz-card>\\r\\n    </div>\\r\\n</div>\\r\\n<div nz-row nzGutter=\\\"16\\\">\\r\\n    <div nz-col nzXs=\\\"24\\\" nzMd=\\\"6\\\">\\r\\n        <nz-card [nzBordered]=\\\"false\\\" [nzTitle]=\\\"nzTitle2\\\" class=\\\"ant-card__img\\\">\\r\\n            <ng-template #nzTitle2>\\r\\n                宜宾微信公众号\\r\\n            </ng-template>\\r\\n            <img class=\\\"img\\\" src=\\\"./assets/img/weixin.jpg\\\">\\r\\n        </nz-card>\\r\\n    </div>\\r\\n    <div nz-col nzXs=\\\"24\\\" nzMd=\\\"18\\\">\\r\\n        <nz-card [nzTitle]=\\\"nzTitle3\\\" [nzBordered]=\\\"false\\\" nzNoPadding>\\r\\n            <ng-template #nzTitle3>\\r\\n                最新用户建议反馈 (模拟数据)\\r\\n            </ng-template>\\r\\n            <div nz-row [nzType]=\\\"'flex'\\\" [nzJustify]=\\\"'center'\\\" [nzAlign]=\\\"'middle'\\\" class=\\\"py-sm bg-grey-lighter-h point\\\" *ngFor=\\\"let item of todoData\\\">\\r\\n                <div nz-col [nzSpan]=\\\"4\\\" class=\\\"text-center\\\">\\r\\n                    <nz-avatar [nzSrc]=\\\"'./assets/img/' + item.avatar + '.png'\\\" [nzSize]=\\\"'large'\\\"></nz-avatar>\\r\\n                </div>\\r\\n                <div nz-col [nzSpan]=\\\"20\\\">\\r\\n                    <strong>{{item.name}}</strong>\\r\\n                    <p>{{item.content}}</p>\\r\\n                </div>\\r\\n            </div>\\r\\n        </nz-card>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"clearfix\\\">\\r\\n    <nz-upload nzAction=\\\"http://localhost:21021/WeChatFile/BanquetPhotoSave/\\\" nzListType=\\\"picture-card\\\" [(nzFileList)]=\\\"fileList\\\"\\r\\n        [nzShowButton]=\\\"fileList.length < 6\\\" [nzPreview]=\\\"handlePreview\\\">\\r\\n        <i class=\\\"anticon anticon-plus\\\"></i>\\r\\n        <div class=\\\"ant-upload-text\\\">上传</div>\\r\\n    </nz-upload>\\r\\n    <nz-modal [nzVisible]=\\\"previewVisible\\\" [nzContent]=\\\"modalContent\\\" [nzFooter]=\\\"null\\\" (nzOnCancel)=\\\"previewVisible=false\\\">\\r\\n        <ng-template #modalContent>\\r\\n            <img [src]=\\\"previewImage\\\" [ngStyle]=\\\"{ 'width': '100%' }\\\" />\\r\\n        </ng-template>\\r\\n    </nz-modal>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/home/index.component.html\n// module id = ./src/app/home/index.component.html\n// module chunks = home.module","import { NzMessageService } from 'ng-zorro-antd';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { _HttpClient } from '@delon/theme';\r\nimport { AppSessionService } from '@shared/session/app-session.service';\r\nimport { ActivityFormServiceProxy } from '@shared/service-proxies/marketing-service';\r\nimport { ActivityFormInfo } from '@shared/service-proxies/entity';\r\n\r\nimport { UploadFile } from 'ng-zorro-antd';\r\n\r\n@Component({\r\n    selector: 'app-home-index',\r\n    templateUrl: './index.component.html'\r\n})\r\nexport class IndexComponent implements OnInit {\r\n\r\n    activityFormInfo: ActivityFormInfo=new ActivityFormInfo();\r\n    constructor(private http: _HttpClient, public msg: NzMessageService, private _appSessionService: AppSessionService,\r\n        private activityFormHomeService: ActivityFormServiceProxy) { }\r\n\r\n    todoData: any[] = [\r\n        { completed: true, avatar: '1', name: '苏者名', content: `订货流程是什么样的？` },\r\n        { completed: false, avatar: '2', name: '杨太', content: `我想咨询如何订货` },\r\n        { completed: false, avatar: '3', name: '李红', content: `我想咨询如何参加本次活动` },\r\n        { completed: false, avatar: '4', name: '曾开', content: `你们的营销电话是多少` }\r\n    ];\r\n\r\n    quickMenu = false;\r\n\r\n    webSite: any[] = [];\r\n    salesData: any[] = [];\r\n    offlineChartData: any[] = [];\r\n    roleName: string = '';\r\n\r\n    previewImage = '';\r\n    previewVisible = false;\r\n\r\n    fileList = [];\r\n\r\n    ngOnInit() {\r\n        this.http.get('/chart').subscribe((res: any) => {\r\n            this.webSite = res.visitData.slice(0, 10);\r\n            this.salesData = res.salesData;\r\n            this.offlineChartData = res.offlineChartData;\r\n        });\r\n        let roles = this._appSessionService.roles;\r\n        if (roles.includes('HostAdmin')) {\r\n            this.roleName += '系统管理员';\r\n        }\r\n        if (roles.includes('Admin')) {\r\n            this.roleName += '管理员';\r\n        }\r\n\r\n        if (roles.includes('MarketingCenter')) {\r\n            this.roleName += ' 营销中心';\r\n        }\r\n\r\n        if (roles.includes('CustomerManager')) {\r\n            this.roleName += ' 客户经理';\r\n        }\r\n        this.getFormInfo();\r\n    }\r\n\r\n    getFormInfo() {\r\n        this.activityFormHomeService.getFormHomeInfo().subscribe((result: ActivityFormInfo) => {\r\n            this.activityFormInfo = result;\r\n        })\r\n    }\r\n\r\n    handlePreview = (file: UploadFile) => {\r\n        this.previewImage = file.url || file.thumbUrl;\r\n        this.previewVisible = true;\r\n      }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/home/index.component.ts"],"sourceRoot":"webpack:///"}