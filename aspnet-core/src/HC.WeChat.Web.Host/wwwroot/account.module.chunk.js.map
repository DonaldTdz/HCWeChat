{"version":3,"sources":["D:/projects/hc/HCWeChat/ng-admin/src/app/account/account-routing.module.ts","D:/projects/hc/HCWeChat/ng-admin/src/app/account/account.component.html","D:/projects/hc/HCWeChat/ng-admin/src/app/account/account.component.ts","D:/projects/hc/HCWeChat/ng-admin/src/app/account/account.module.ts","D:/projects/hc/HCWeChat/ng-admin/src/app/account/login/login.component.html","D:/projects/hc/HCWeChat/ng-admin/src/app/account/login/login.component.ts","D:/projects/hc/HCWeChat/ng-admin/src/app/account/login/login.service.ts","D:/projects/hc/HCWeChat/ng-admin/src/app/account/tenant/tenant.component.html","D:/projects/hc/HCWeChat/ng-admin/src/app/account/tenant/tenant.component.ts","D:/projects/hc/HCWeChat/ng-admin/src/app/shared/AppEnums.ts","D:/projects/hc/HCWeChat/ng-admin/src/app/shared/helper/UrlHelper.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACc;AACE;AACzD,oEAAoE;AACb;AAEvD,IAAM,MAAM,GAAW,CAAC;QACtB,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,4EAAgB;QAC3B,QAAQ,EAAE;YACR,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE;YACpD,EAAE,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,8EAAc,EAAE;YAC5C,EAAE,IAAI,EAAE,WAAW,EAAE,SAAS,EAAE,8EAAc,EAAE;YAChD,oDAAoD;SACrD;KACF,CAAC,CAAC;AAUH;IAAA;IAAoC,CAAC;IAAxB,oBAAoB;QARhC,+DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,qEAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC9B;YACD,OAAO,EAAE;gBACP,qEAAY;aACb;SACF,CAAC;OACW,oBAAoB,CAAI;IAAD,2BAAC;CAAA;AAAJ;;;;;;;;ACzBjC,kD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAiG;AAC5C;AACS;AAS9D;IAAsC,oCAAgB;IAOlD,0BACI,QAAkB,EACV,aAA2B;QAFvC,YAII,kBAAM,QAAQ,CAAC,SAIlB;QANW,mBAAa,GAAb,aAAa,CAAc;QAInC,KAAI,CAAC,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;;QAC5C,mIAAmI;IACvI,CAAC;IAED,2CAAgB,GAAhB;QACI,MAAM,CAAC,GAAG,CAAC,YAAY,CAAC,SAAS,CAAC;IACtC,CAAC;IAED,mCAAQ,GAAR;QACI,wCAAwC;IAC5C,CAAC;IAvBQ,gBAAgB;QAP5B,gEAAS,CAAC;;SAMV,CAAC;yCASgB,uDAAQ;YACK,0EAAY;OAT9B,gBAAgB,CAwB5B;IAAD,uBAAC;CAAA,CAxBqC,oFAAgB,GAwBrD;AAxB4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACXkB;AACN;AACI;AACW;AACxD,8CAA8C;AACO;AACT;AACsC;AAElB;AACT;AACvD,2EAA2E;AAC3E,sFAAsF;AAC7B;AACzD,oEAAoE;AACpE,mFAAmF;AAE9B;AACqB;AACd;AA4B5D;IAAA;IAEA,CAAC;IAFY,aAAa;QA1BzB,+DAAQ,CAAC;YACN,OAAO,EAAE;gBACL,6DAAY;gBACZ,2DAAW;gBACX,iEAAU;gBACV,kEAAW;gBACX,kEAAS;gBACT,2EAAY;gBACZ,wGAAkB;gBAClB,qFAAoB,IAAG;gBACvB,uBAAuB;aAC1B;YACD,YAAY,EAAE;gBACV,4EAAgB;gBAChB,wBAAwB;gBACxB,6BAA6B;gBAC7B,8EAAc;gBACd,oBAAoB;gBACpB,2BAA2B;gBAC3B,kFAAe;aAClB;YACD,SAAS,EAAE;gBACP,2EAAY;gBACZ,+FAAiB;aACpB;SACJ,CAAC;OACW,aAAa,CAEzB;IAAD,oBAAC;CAAA;AAFyB;;;;;;;;AC/C1B,+TAA+T,kBAAkB,kFAAkF,kuEAAkuE,iBAAiB,uiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA7lF;AAC0B;AACf;AACN;AAEf;AACoC;AAMnF;IAAoC,kCAAgB;IAUlD,wBAAY,QAAkB,EAAS,YAA0B,EAAE,EAAe,EAAU,MAAc,EAAU,KAAqB,EAAU,aAA+B;QAAlL,YACE,kBAAM,QAAQ,CAAC,SAwBhB;QAzBsC,kBAAY,GAAZ,YAAY,CAAc;QAA2B,YAAM,GAAN,MAAM,CAAQ;QAAU,WAAK,GAAL,KAAK,CAAgB;QAAU,mBAAa,GAAb,aAAa,CAAkB;QANlL,qEAAqE;QACrE,gBAAU,GAAY,KAAK,CAAC;QAC5B,IAAI;QACJ,iBAAW,GAAW,EAAE,CAAC;QACzB,UAAI,GAAW,EAAE,CAAC;QAIhB,YAAY,CAAC,UAAU,GAAG,IAAI,CAAC;QAC/B,KAAI,CAAC,OAAO,GAAG,EAAE,CAAC,KAAK,CAAC;YACtB,sBAAsB,EAAE,CAAC,IAAI,EAAE,0DAAU,CAAC,QAAQ,CAAC;YACnD,QAAQ,EAAE,CAAC,IAAI,EAAE,0DAAU,CAAC,QAAQ,CAAC;YACrC,UAAU,EAAE,CAAC,IAAI,CAAC;SACnB,CAAC,CAAC;QACH,IAAI,SAAS,GAAG,MAAM,CAAC,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;QAC/D,IAAI,GAAG,GAAG,GAAG,CAAC,YAAY,CAAC,iBAAiB,EAAE,CAAC;QAC/C,OAAO,CAAC,GAAG,CAAC,YAAY,GAAC,SAAS,GAAG,OAAO,GAAG,GAAG,CAAC,CAAC;QACpD,kBAAkB;QAClB,0DAA0D;QACxD,EAAE,EAAC,SAAS,IAAI,CAAC,CAAC,EAAC;YACjB,GAAG,CAAC,YAAY,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC;QAChD,CAAC;QAAC,IAAI,CAAC,EAAE,EAAC,SAAS,IAAI,CAAC,CAAC,EAAC;YACxB,GAAG,CAAC,YAAY,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;QACxC,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;gBACb,GAAG,CAAC,YAAY,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,OAAM;gBAC5C,QAAQ,CAAC,MAAM,EAAE,CAAC;YACpB,CAAC;QACH,CAAC;;QACD,oBAAoB;QACtB,IAAI;IACN,CAAC;IAED,8BAAK,GAAL;QAAA,iBAaC;QAZC,iCAAiC;QACjC,GAAG,CAAC,CAAC,IAAM,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;YACtC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;QACzC,CAAC;QACD,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;YACvB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,YAAY,CAAC,YAAY,CAC5B;gBACE,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YAC1B,CAAC,CACF,CAAC;QACJ,CAAC;IACH,CAAC;IACD,sBAAI,qDAAyB;aAA7B;YACE,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,GAAG,CAAC,CAAC;QAC3C,CAAC;;;OAAA;IACC,iCAAQ,GAAR;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC;YAC3B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,WAAW,CAAC;YACtD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC;QAC1C,CAAC;IACH,CAAC;IAxDsB;QAAtB,gEAAS,CAAC,UAAU,CAAC;kCAAW,yDAAU;oDAAC;IAHjC,cAAc;QAJ1B,gEAAS,CAAC;YACT,QAAQ,EAAE,iBAAiB;;SAE5B,CAAC;yCAWsB,uDAAQ,EAAuB,oEAAY,EAAM,2DAAW,EAAkB,+DAAM,EAAiB,uEAAc,EAAwB,yGAAiB;OAVvK,cAAc,CA6D1B;IAAD,qBAAC;CAAA,CA7DmC,oFAAgB,GA6DnD;AA7D0B;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZgB;AACF;AAC+K;AACnK;AACP;AAEgB;AACZ;AACK;AACC;AAKxD;IASI,sBACY,iBAAwC,EACxC,OAAe,EACf,aAA2B,EAC3B,eAA+B,EAC/B,aAA2B,EAC3B,WAAuB;QALvB,sBAAiB,GAAjB,iBAAiB,CAAuB;QACxC,YAAO,GAAP,OAAO,CAAQ;QACf,kBAAa,GAAb,aAAa,CAAc;QAC3B,oBAAe,GAAf,eAAe,CAAgB;QAC/B,kBAAa,GAAb,aAAa,CAAc;QAC3B,gBAAW,GAAX,WAAW,CAAY;QAE/B,IAAI,CAAC,KAAK,EAAE,CAAC;IACjB,CAAC;IAED,mCAAY,GAAZ,UAAa,eAA4B;QAAzC,iBASC;QARG,eAAe,GAAG,eAAe,IAAI,CAAC,cAAQ,CAAC,CAAC,CAAC;QAEjD,IAAI,CAAC,iBAAiB;aACjB,YAAY,CAAC,IAAI,CAAC,iBAAiB,CAAC;aACpC,OAAO,CAAC,eAAe,CAAC;aACxB,SAAS,CAAC,UAAC,MAA+B;YACvC,KAAI,CAAC,yBAAyB,CAAC,MAAM,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC;IACX,CAAC;IAEO,gDAAyB,GAAjC,UAAkC,kBAA2C;QACzE,IAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;QAE7C,EAAE,CAAC,CAAC,kBAAkB,CAAC,WAAW,CAAC,CAAC,CAAC;YACjC,wBAAwB;YACxB,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,WAAW,EAAE,kBAAkB,CAAC,oBAAoB,EAAE,kBAAkB,CAAC,eAAe,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAE7I,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,oBAAoB;YAEpB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,gCAAgC,CAAC,CAAC;YACxD,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;QAC7C,CAAC;IACL,CAAC;IAEO,4BAAK,GAAb,UAAc,WAAmB,EAAE,oBAA4B,EAAE,eAAuB,EAAE,UAAoB;QAE1G,IAAI,eAAe,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,IAAI,GAAG,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;QAEzG,IAAI,CAAC,aAAa,CAAC,QAAQ,CACvB,WAAW,EACX,eAAe,CAClB,CAAC;QAEF,IAAI,CAAC,aAAa,CAAC,cAAc,CAC7B,oEAAS,CAAC,aAAa,CAAC,qBAAqB,EAC7C,oBAAoB,EACpB,eAAe,EACf,GAAG,CAAC,OAAO,CACd,CAAC;QAEF,IAAI,UAAU,GAAG,2EAAS,CAAC,UAAU,CAAC;QACtC,QAAQ;QACR,EAAE,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,UAAU,IAAI,oEAAS,CAAC,UAAU,GAAG,KAAK,CAAC,CAAC,CAAC;YACjF,UAAU,GAAG,oEAAS,CAAC,UAAU,CAAC;QACtC,CAAC;QAED,QAAQ,CAAC,IAAI,GAAG,UAAU,CAAC;IAC/B,CAAC;IAEO,4BAAK,GAAb;QACI,IAAI,CAAC,iBAAiB,GAAG,IAAI,kGAAiB,EAAE,CAAC;QACjD,IAAI,CAAC,iBAAiB,CAAC,cAAc,GAAG,KAAK,CAAC;QAC9C,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;QAC/B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IAC5B,CAAC;IA1Ee,6CAAgC,GAAG,8BAA8B,CAAC;IAFzE,YAAY;QADxB,iEAAU,EAAE;yCAWsB,sGAAqB;YAC/B,+DAAM;YACA,8EAAY;YACV,oFAAc;YAChB,6EAAY;YACd,wEAAU;OAf1B,YAAY,CA6ExB;IAAD,mBAAC;CAAA;AA7EwB;;;;;;;;ACdzB,gkCAAgkC,WAAW,0LAA0L,WAAW,0F;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACArsC;AACb;AACwC;AACxC;AAM9D;IAAqC,mCAAgB;IAOjD,yBAAY,QAAkB,EAAU,cAAmC;QAA3E,YACI,kBAAM,QAAQ,CAAC,SAElB;QAHuC,oBAAc,GAAd,cAAc,CAAqB;QAJ3E,iBAAW,GAAW,EAAE,CAAC;QACzB,kBAAY,GAAY,KAAK,CAAC;QAC9B,YAAM,GAAY,KAAK,CAAC;QAqBxB,kBAAY,GAAG,UAAC,CAAE;YACd,KAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC9B,CAAC;QAnBG,KAAI,CAAC,WAAW,GAAC,EAAE,CAAC;;IACxB,CAAC;IACD;;;OAGG;IACH,8BAAI,GAAJ,UAAK,WAAmB;QACpB,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,2DAA2D;IAC/D,CAAC;IACD;;OAEG;IACH,+BAAK,GAAL;QACI,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;IAC9B,CAAC;IAKD;;OAEG;IACH,8BAAI,GAAJ;QAAA,iBA2BC;QA1BG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;YACpB,GAAG,CAAC,YAAY,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC;YAC9C,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,QAAQ,CAAC,MAAM,EAAE,CAAC;YAClB,MAAM,CAAC;QACX,CAAC;QACD,IAAI,KAAK,GAAG,IAAI,uGAAsB,EAAE,CAAC;QACzC,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QACrC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACnB,IAAI,CAAC,cAAc,CAAC,iBAAiB,CAAC,KAAK,CAAC;aACvC,OAAO,CAAC,cAAQ,KAAI,CAAC,MAAM,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;aACvC,SAAS,CAAC,UAAC,MAAM;YACd,MAAM,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;gBACnB,KAAK,oFAA0B,CAAC,SAAS;oBACrC,GAAG,CAAC,YAAY,CAAC,iBAAiB,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;oBACpD,KAAI,CAAC,YAAY,EAAE,CAAC;oBACpB,QAAQ,CAAC,MAAM,EAAE,CAAC;oBAClB,MAAM,CAAC;gBACX,KAAK,oFAA0B,CAAC,QAAQ;oBACpC,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC,CAAC,mBAAmB,EAAE,KAAI,CAAC,WAAW,CAAC,CAAC,CAAC;oBACjE,KAAK,CAAC;gBACV,KAAK,oFAA0B,CAAC,QAAQ;oBACpC,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC,CAAC,mCAAmC,EAAE,KAAI,CAAC,WAAW,CAAC,CAAC,CAAC;oBACjF,KAAK,CAAC;YACd,CAAC;QACL,CAAC,CAAC,CAAC;IACX,CAAC;IA3D8B;QAA9B,gEAAS,CAAC,kBAAkB,CAAC;kCAAmB,yDAAU;6DAAC;IADnD,eAAe;QAJ3B,gEAAS,CAAC;YACP,QAAQ,EAAE,qBAAqB;;SAElC,CAAC;yCAQwB,uDAAQ,EAA0B,oGAAmB;OAPlE,eAAe,CA6D3B;IAAD,sBAAC;CAAA,CA7DoC,oFAAgB,GA6DpD;AA7D2B;;;;;;;;;;;ACT2D;AAGvF;IAAA;IAIA,CAAC;IAHU,oCAAS,GAAW,6GAA4B,CAAC,EAAE,CAAC;IACpD,mCAAQ,GAAW,6GAA4B,CAAC,EAAE,CAAC;IACnD,mCAAQ,GAAW,6GAA4B,CAAC,EAAE,CAAC;IAC9D,iCAAC;CAAA;AAJsC;;;;;;;;;ACHvC;AAAA;IAAA;IASA,CAAC;IAHU,4BAAkB,GAAzB;QACI,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACvJ,CAAC;IAPD;;OAEG;IACa,oBAAU,GAAG,QAAQ,CAAC,IAAI,CAAC;IAK/C,gBAAC;CAAA;AATqB","file":"account.module.chunk.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { LoginComponent } from './login/login.component';\r\n//import { RegisterComponent } from './register/register.component';\r\nimport { AccountComponent } from './account.component';\r\n\r\nconst routes: Routes = [{\r\n  path: '',\r\n  component: AccountComponent,\r\n  children: [\r\n    { path: '', redirectTo: 'login', pathMatch: 'full' },\r\n    { path: 'login', component: LoginComponent },\r\n    { path: 'login/:id', component: LoginComponent }\r\n    //{ path: 'register', component: RegisterComponent }\r\n  ]\r\n}];\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  exports: [\r\n    RouterModule\r\n  ]\r\n})\r\nexport class AccountRoutingModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// D:/projects/hc/HCWeChat/ng-admin/src/app/account/account-routing.module.ts","module.exports = \"<router-outlet></router-outlet>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/projects/hc/HCWeChat/ng-admin/src/app/account/account.component.html\n// module id = ../../../../../src/app/account/account.component.html\n// module chunks = account.module","import { Component, ViewContainerRef, OnInit, ViewEncapsulation, Injector } from '@angular/core';\r\nimport { LoginService } from './login/login.service';\r\nimport { AppComponentBase } from '@shared/app-component-base';\r\n\r\n@Component({\r\n    templateUrl: './account.component.html'//,\r\n    //styleUrls: [\r\n    //    './account.component.less'\r\n    //],\r\n    //encapsulation: ViewEncapsulation.None\r\n})\r\nexport class AccountComponent extends AppComponentBase implements OnInit {\r\n\r\n    private viewContainerRef: ViewContainerRef;\r\n\r\n    versionText: string;\r\n    currentYear: number;\r\n\r\n    public constructor(\r\n        injector: Injector,\r\n        private _loginService: LoginService\r\n    ) {\r\n        super(injector);\r\n\r\n        this.currentYear = new Date().getFullYear();\r\n        //this.versionText = this.appSession.application.version + ' [' + this.appSession.application.releaseDate.format('YYYYDDMM') + ']';\r\n    }\r\n\r\n    showTenantChange(): boolean {\r\n        return abp.multiTenancy.isEnabled;\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        //$('body').attr('class', 'login-page');\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// D:/projects/hc/HCWeChat/ng-admin/src/app/account/account.component.ts","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HttpModule, JsonpModule } from '@angular/http';\r\n//import { ModalModule } from 'ngx-bootstrap';\r\nimport { SharedModule } from '@shared/shared.module';\r\nimport { AbpModule } from '@abp/abp.module';\r\nimport { ServiceProxyModule } from '@shared/service-proxies/service-proxy.module';\r\n\r\nimport { AccountRoutingModule } from './account-routing.module';\r\nimport { AccountComponent } from './account.component';\r\n//import { TenantChangeComponent } from './tenant/tenant-change.component';\r\n//import { TenantChangeModalComponent } from './tenant/tenant-change-modal.component';\r\nimport { LoginComponent } from './login/login.component';\r\n//import { RegisterComponent } from './register/register.component';\r\n//import { AccountLanguagesComponent } from './layout/account-languages.component';\r\n\r\nimport { LoginService } from './login/login.service';\r\nimport { AppSessionService } from '../shared/session/app-session.service';\r\nimport { TenantComponent } from './tenant/tenant.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        HttpModule,\r\n        JsonpModule,\r\n        AbpModule,\r\n        SharedModule,\r\n        ServiceProxyModule,\r\n        AccountRoutingModule//,\r\n        //ModalModule.forRoot()\r\n    ],\r\n    declarations: [\r\n        AccountComponent,\r\n        //TenantChangeComponent,\r\n        //TenantChangeModalComponent,\r\n        LoginComponent,\r\n        //RegisterComponent,\r\n        //AccountLanguagesComponent\r\n        TenantComponent\r\n    ],\r\n    providers: [\r\n        LoginService,\r\n        AppSessionService\r\n    ]\r\n})\r\nexport class AccountModule {\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/projects/hc/HCWeChat/ng-admin/src/app/account/account.module.ts","module.exports = \"<div class=\\\"wrapper\\\">\\r\\n    <div #cardBody class=\\\"abs-center mt-lg width-lg\\\">\\r\\n        <nz-card [nzTitle]=\\\"nzTitle\\\" [nzBordered]=\\\"false\\\" class=\\\"ant-card__primary ant-card__title-img\\\">\\r\\n            <ng-template #nzTitle>\\r\\n                <div class=\\\"text-center\\\" style=\\\"color:white; font-weight:bold;\\\">\\r\\n                    <img src=\\\"./assets/img/logo.svg\\\" style=\\\"height:20px;\\\"> 宜宾烟草信微信平台</div>\\r\\n            </ng-template>\\r\\n            <form nz-form [formGroup]=\\\"valForm\\\" #loginForm=\\\"ngForm\\\" method=\\\"post\\\" id=\\\"LoginForm\\\" (ngSubmit)=\\\"login()\\\" role=\\\"form\\\">\\r\\n                <div nz-form-item>\\r\\n                    <div nz-form-control [nzValidateStatus]=\\\"valForm.controls.userNameOrEmailAddress\\\">\\r\\n                        <nz-input formControlName=\\\"userNameOrEmailAddress\\\" [nzPlaceHolder]=\\\"'用户名或邮箱地址'\\\" [(ngModel)]=\\\"loginService.authenticateModel.userNameOrEmailAddress\\\"\\r\\n                            [nzSize]=\\\"'large'\\\">\\r\\n                            <ng-template #suffix>\\r\\n                                <i class=\\\"anticon anticon-user\\\"></i>\\r\\n                            </ng-template>\\r\\n                        </nz-input>\\r\\n                        <div nz-form-explain *ngIf=\\\"valForm.controls.userNameOrEmailAddress.dirty&&valForm.controls.userNameOrEmailAddress.hasError('required')\\\">请输入用户名或邮箱地址</div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div nz-form-item>\\r\\n                    <div nz-form-control [nzValidateStatus]=\\\"valForm.controls.password\\\">\\r\\n                        <nz-input formControlName=\\\"password\\\" [(ngModel)]=\\\"loginService.authenticateModel.password\\\" [nzPlaceHolder]=\\\"'密码'\\\" [nzType]=\\\"'password'\\\"\\r\\n                            [nzSize]=\\\"'large'\\\">\\r\\n                            <ng-template #suffix>\\r\\n                                <i class=\\\"anticon anticon-lock\\\"></i>\\r\\n                            </ng-template>\\r\\n                        </nz-input>\\r\\n                        <div nz-form-explain *ngIf=\\\"valForm.controls.password.dirty&&valForm.controls.password.hasError('required')\\\">密码必填</div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div nz-form-item nz-row>\\r\\n                    <div nz-col [nzSpan]=\\\"12\\\">\\r\\n                        <label nz-checkbox [(ngModel)]=\\\"loginService.rememberMe\\\" formControlName=\\\"rememberMe\\\">\\r\\n                            <span>记住我</span>\\r\\n                        </label>\\r\\n                    </div>\\r\\n                    <!-- <div nz-col [nzSpan]=\\\"12\\\" class=\\\"text-right\\\">\\r\\n                        <a [routerLink]=\\\"['../register']\\\" >{{l(\\\"Register\\\")}}</a>\\r\\n                    </div> -->\\r\\n                </div>\\r\\n                <div nz-form-item nz-row>\\r\\n                    <div nz-col [nzSpan]=\\\"24\\\">\\r\\n                        <button nz-button id=\\\"LoginButton\\\" type=\\\"submit\\\" [disabled]=\\\"!valForm.valid\\\" [nzType]=\\\"'primary'\\\" [nzSize]=\\\"'large'\\\" class=\\\"ant-btn__block\\\">\\r\\n                            <span>登录</span>\\r\\n                        </button>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </form>\\r\\n        </nz-card>\\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/projects/hc/HCWeChat/ng-admin/src/app/account/login/login.component.html\n// module id = ../../../../../src/app/account/login/login.component.html\n// module chunks = account.module","import { Router, ActivatedRoute } from '@angular/router';\r\nimport { Component, Injector, ElementRef, ViewChild, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { AppComponentBase } from '@shared/app-component-base';\r\n\r\nimport { LoginService } from './login.service';\r\nimport { AbpSessionService } from 'abp-ng2-module/src/session/abp-session.service';\r\n\r\n@Component({\r\n  selector: 'app-pages-login',\r\n  templateUrl: './login.component.html'\r\n})\r\nexport class LoginComponent extends AppComponentBase implements OnInit {\r\n\r\n  valForm: FormGroup;\r\n  @ViewChild('cardBody') cardBody: ElementRef;\r\n  //@ViewChild('tenantChangeModal') tenantChangeModal: TenantComponent;\r\n  submitting: boolean = false;\r\n  //租户\r\n  tenancyName: string = '';\r\n  name: string = '';\r\n\r\n  constructor(injector: Injector, public loginService: LoginService, fb: FormBuilder, private router: Router, private route: ActivatedRoute, private sessionServer:AbpSessionService) {\r\n    super(injector);\r\n    loginService.rememberMe = true;\r\n    this.valForm = fb.group({\r\n      userNameOrEmailAddress: [null, Validators.required],//[null, Validators.compose([Validators.required, Validators.email])],\r\n      password: [null, Validators.required],\r\n      rememberMe: [null]\r\n    });\r\n    var tenancyId = Number(this.route.snapshot.paramMap.get('id'));\r\n    var tid = abp.multiTenancy.getTenantIdCookie();\r\n    console.log(\"tenancyId:\"+tenancyId + \" tid:\" + tid);\r\n    //alert(tenancyId)\r\n    //if (tid ==  null || (tid != null && tenancyId != tid)) {\r\n      if(tenancyId == 1){\r\n        abp.multiTenancy.setTenantIdCookie(undefined);\r\n      } else if(tenancyId == 2){\r\n        abp.multiTenancy.setTenantIdCookie(2);\r\n      } else {\r\n        if (tid != 2) {\r\n          abp.multiTenancy.setTenantIdCookie(2);//默认宜宾\r\n          location.reload();\r\n        }\r\n      }\r\n      //location.reload();\r\n    //} \r\n  }\r\n\r\n  login(): void {\r\n    // tslint:disable-next-line:forin\r\n    for (const i in this.valForm.controls) {\r\n      this.valForm.controls[i].markAsDirty();\r\n    }\r\n    if (this.valForm.valid) {\r\n      this.submitting = true;\r\n      this.loginService.authenticate(\r\n        () => {\r\n          this.submitting = false;\r\n        }\r\n      );\r\n    }\r\n  }\r\n  get multiTenancySideIsTeanant(): boolean {\r\n    return this.sessionServer.tenantId > 0;\r\n}\r\n  ngOnInit(): void {\r\n    if (this.appSession.tenant) {\r\n      this.tenancyName = this.appSession.tenant.tenancyName;\r\n      this.name = this.appSession.tenant.name;\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/projects/hc/HCWeChat/ng-admin/src/app/account/login/login.component.ts","import { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { TokenAuthServiceProxy, AuthenticateModel, AuthenticateResultModel, ExternalLoginProviderInfoModel, ExternalAuthenticateModel, ExternalAuthenticateResultModel } from '@shared/service-proxies/service-proxies';\r\nimport { UrlHelper } from '@shared/helper/UrlHelper';\r\nimport { AppConsts } from '@shared/AppConsts';\r\n\r\nimport { MessageService } from '@abp/message/message.service';\r\nimport { LogService } from '@abp/log/log.service';\r\nimport { TokenService } from '@abp/auth/token.service';\r\nimport { UtilsService } from '@abp/utils/utils.service';\r\n\r\nimport * as _ from 'lodash';\r\n\r\n@Injectable()\r\nexport class LoginService {\r\n\r\n    static readonly twoFactorRememberClientTokenName = 'TwoFactorRememberClientToken';\r\n\r\n    authenticateModel: AuthenticateModel;\r\n    authenticateResult: AuthenticateResultModel;\r\n\r\n    rememberMe: boolean;\r\n\r\n    constructor(\r\n        private _tokenAuthService: TokenAuthServiceProxy,\r\n        private _router: Router,\r\n        private _utilsService: UtilsService,\r\n        private _messageService: MessageService,\r\n        private _tokenService: TokenService,\r\n        private _logService: LogService\r\n    ) {\r\n        this.clear();\r\n    }\r\n\r\n    authenticate(finallyCallback?: () => void): void {\r\n        finallyCallback = finallyCallback || (() => { });\r\n\r\n        this._tokenAuthService\r\n            .authenticate(this.authenticateModel)\r\n            .finally(finallyCallback)\r\n            .subscribe((result: AuthenticateResultModel) => {\r\n                this.processAuthenticateResult(result);\r\n            });\r\n    }\r\n\r\n    private processAuthenticateResult(authenticateResult: AuthenticateResultModel) {\r\n        this.authenticateResult = authenticateResult;\r\n\r\n        if (authenticateResult.accessToken) {\r\n            //Successfully logged in\r\n            this.login(authenticateResult.accessToken, authenticateResult.encryptedAccessToken, authenticateResult.expireInSeconds, this.rememberMe);\r\n\r\n        } else {\r\n            //Unexpected result!\r\n\r\n            this._logService.warn('Unexpected authenticateResult!');\r\n            this._router.navigate(['account/login']);\r\n        }\r\n    }\r\n\r\n    private login(accessToken: string, encryptedAccessToken: string, expireInSeconds: number, rememberMe?: boolean): void {\r\n\r\n        var tokenExpireDate = rememberMe ? (new Date(new Date().getTime() + 1000 * expireInSeconds)) : undefined;\r\n\r\n        this._tokenService.setToken(\r\n            accessToken,\r\n            tokenExpireDate\r\n        );\r\n\r\n        this._utilsService.setCookieValue(\r\n            AppConsts.authorization.encrptedAuthTokenName,\r\n            encryptedAccessToken,\r\n            tokenExpireDate,\r\n            abp.appPath\r\n        );\r\n\r\n        var initialUrl = UrlHelper.initialUrl;\r\n        //添加#号处理\r\n        if (initialUrl.indexOf('/login') > 0 || initialUrl == AppConsts.appBaseUrl + '/#/') {\r\n            initialUrl = AppConsts.appBaseUrl;\r\n        }\r\n\r\n        location.href = initialUrl;\r\n    }\r\n\r\n    private clear(): void {\r\n        this.authenticateModel = new AuthenticateModel();\r\n        this.authenticateModel.rememberClient = false;\r\n        this.authenticateResult = null;\r\n        this.rememberMe = false;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// D:/projects/hc/HCWeChat/ng-admin/src/app/account/login/login.service.ts","module.exports = \"<form *ngIf=\\\"modalVisible\\\" #changeTenantForm=\\\"ngForm\\\" novalidate (ngSubmit)=\\\"save()\\\">\\r\\n    <nz-modal [nzVisible]=\\\"modalVisible\\\" [nzTitle]=\\\"'选择租户'\\\" [nzConfirmLoading]=\\\"loading\\\" [nzContent]=\\\"modalContent\\\" [nzFooter]=\\\"modalFooter\\\"\\r\\n        (nzOnCancel)=\\\"handleCancel($event)\\\">\\r\\n        <ng-template #modalContent>\\r\\n            <div nz-form-item nz-row>\\r\\n                <!-- <div nz-form-label nz-col [nzSm]=\\\"4\\\">\\r\\n                    <label for=\\\"description\\\" nz-form-item-required>角色描述</label>\\r\\n                </div> -->\\r\\n                <div nz-form-control nz-col [nzSm]=\\\"20\\\" nzHasFeedback>\\r\\n                    <nz-input  type=\\\"text\\\" name=\\\"TenancyName\\\" class=\\\"form-control\\\" nzPlaceHolder=\\\"请输入租户名\\\"  [(ngModel)]=\\\"tenancyName\\\" maxlength=\\\"64\\\"></nz-input>\\r\\n                </div>\\r\\n            </div>\\r\\n        </ng-template>\\r\\n        <ng-template #modalFooter>\\r\\n            <button nz-button [nzType]=\\\"'default'\\\" [nzSize]=\\\"'large'\\\" type=\\\"button\\\" (click)=\\\"handleCancel($event)\\\">\\r\\n                    {{l(\\\"取消\\\")}}\\r\\n                </button>\\r\\n                <button nz-button [nzType]=\\\"'primary'\\\" [nzSize]=\\\"'large'\\\" type=\\\"submit\\\" [nzLoading]=\\\"isConfirmLoading\\\">\\r\\n                    {{l(\\\"保存\\\")}}\\r\\n                </button>\\r\\n        </ng-template>\\r\\n    </nz-modal>\\r\\n</form>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/projects/hc/HCWeChat/ng-admin/src/app/account/tenant/tenant.component.html\n// module id = ../../../../../src/app/account/tenant/tenant.component.html\n// module chunks = account.module","import { Component, ViewChild, ElementRef, Injector } from \"@angular/core\";\r\nimport { AppComponentBase } from \"@shared/app-component-base\";\r\nimport { IsTenantAvailableInput, AccountServiceProxy } from \"@shared/service-proxies/service-proxies\";\r\nimport { AppTenantAvailabilityState } from \"@shared/AppEnums\";\r\n\r\n@Component({\r\n    selector: 'tenant-change-modal',\r\n    templateUrl: 'tenant.component.html',\r\n})\r\nexport class TenantComponent extends AppComponentBase {\r\n    @ViewChild('tenancyNameInput') tenancyNameInput: ElementRef;\r\n\r\n    tenancyName: string = '';\r\n    modalVisible: boolean = false;\r\n    saving: boolean = false;\r\n\r\n    constructor(injector: Injector, private accountService: AccountServiceProxy) {\r\n        super(injector);\r\n        this.tenancyName='';\r\n    }\r\n    /**\r\n     * 显示模态框\r\n     * @param tenancyName 租户名字\r\n     */\r\n    show(tenancyName: string) {\r\n        this.tenancyName = tenancyName;\r\n        this.modalVisible = true;\r\n        // $(this.tenancyNameInput.nativeElement).focus().select();\r\n    }\r\n    /**\r\n     * 关闭模态框\r\n     */\r\n    close() {\r\n        this.modalVisible = false;\r\n    }\r\n    handleCancel = (e?) => {\r\n        this.modalVisible = false;\r\n    }\r\n\r\n    /**\r\n     * 保存当前租户\r\n     */\r\n    save() {\r\n        if (!this.tenancyName) {\r\n            abp.multiTenancy.setTenantIdCookie(undefined);\r\n            this.handleCancel();\r\n            location.reload();\r\n            return;\r\n        }\r\n        var input = new IsTenantAvailableInput();\r\n        input.tenancyName = this.tenancyName;\r\n        this.saving = true;\r\n        this.accountService.isTenantAvailable(input)\r\n            .finally(() => { this.saving = false; })\r\n            .subscribe((result) => {\r\n                switch (result.state) {\r\n                    case AppTenantAvailabilityState.Available:\r\n                        abp.multiTenancy.setTenantIdCookie(result.tenantId);\r\n                        this.handleCancel();\r\n                        location.reload();\r\n                        return;\r\n                    case AppTenantAvailabilityState.InActive:\r\n                        this.message.warn(this.l('TenantIsNotActive', this.tenancyName));\r\n                        break;\r\n                    case AppTenantAvailabilityState.NotFound:\r\n                        this.message.warn(this.l('ThereIsNoTenantDefinedWithName{0}', this.tenancyName));\r\n                        break;\r\n                }\r\n            });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// D:/projects/hc/HCWeChat/ng-admin/src/app/account/tenant/tenant.component.ts","import { IsTenantAvailableOutputState } from '@shared/service-proxies/service-proxies';\r\n\r\n\r\nexport class AppTenantAvailabilityState {\r\n    static Available: number = IsTenantAvailableOutputState._1;\r\n    static InActive: number = IsTenantAvailableOutputState._2;\r\n    static NotFound: number = IsTenantAvailableOutputState._3;\r\n}\n\n\n// WEBPACK FOOTER //\n// D:/projects/hc/HCWeChat/ng-admin/src/app/shared/AppEnums.ts","export class UrlHelper {\r\n    /**\r\n     * The URL requested, before initial routing.\r\n     */\r\n    static readonly initialUrl = location.href;\r\n\r\n    static getQueryParameters(): any {\r\n        return document.location.search.replace(/(^\\?)/, '').split(\"&\").map(function (n) { return n = n.split(\"=\"), this[n[0]] = n[1], this }.bind({}))[0];\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// D:/projects/hc/HCWeChat/ng-admin/src/app/shared/helper/UrlHelper.ts"],"sourceRoot":"webpack:///"}