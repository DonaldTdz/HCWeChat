<!--component html goes here -->
<div class="content__title">
    <h1>UEditor
        <small>Dependencies
            <a href="//github.com/cipchk/ngx-ueditor" target="_blank">ngx-ueditor</a>
        </small>
    </h1>
</div>

<!-- <nz-card>
    <ueditor [(ngModel)]="html"></ueditor>
</nz-card> -->
<nz-card>
    <form nz-form [formGroup]="formA" id="frm_create_role" (ngSubmit)="save()">

        <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="4">
                <label for="name" nz-form-item-required>活动名称</label>
            </div>
            <div nz-form-control nz-col [nzSm]="9" nzHasFeedback [nzValidateStatus]="getFormControl('name')">
                <nz-input formControlName="name" [(ngModel)]="acitivityDto.name" [nzId]="'name'"></nz-input>
                <div nz-form-explain *ngIf="getFormControl('name').dirty&&getFormControl('name').hasError('maxlength')">字符长度小于等于200</div>
                <div nz-form-explain *ngIf="getFormControl('name').dirty&&getFormControl('name').hasError('required')">请输入活动名称</div>
            </div>
            <div nz-form-label nz-col [nzSm]="2">
                    <label for="status" >活动状态</label>
                </div>
                <div nz-form-label nz-col [nzSm]="3" class="text-pink-light h3">
                    <!-- <nz-radio-group formControlName="status" [(ngModel)]="acitivityDto.status" class="mb-md">
                        <label nz-radio [nzValue]="1"  class="text-pink-light h3">
                            <span>办事用烟</span>
                        </label>
                    </nz-radio-group> -->
                    草稿
                </div>
                <div nz-form-label nz-col [nzSm]="3">
                    <label for="publishTime">活动发布时间</label>
                </div>
                <div nz-form-control nz-col [nzSm]="3" class="text-pink-light h3">
                    2018-03-29{{acitivityDto.publishTime}}
                    <!-- <nz-datepicker formControlName="publishTime" [(ngModel)]="acitivityDto.publishTime"></nz-datepicker> -->
                </div>
        </div>

       

        <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="4">
                <label for="beginTime" nz-form-item-required>活动开始时间</label>
            </div>
            <div nz-form-control nz-col [nzSm]="6" nzHasFeedback [nzValidateStatus]="getFormControl('beginTime')">
                <nz-datepicker [nzSize]="large" formControlName="beginTime" [(ngModel)]="acitivityDto.beginTime"></nz-datepicker>
                <div nz-form-explain *ngIf="getFormControl('beginTime').dirty&&getFormControl('beginTime').hasError('required')">请输入活动开始时间</div>
            </div>
            <div nz-form-label nz-col [nzSm]="3">
                <label for="endTime" nz-form-item-required>活动结束时间</label>
            </div>
            <div nz-form-control nz-col [nzSm]="6" nzHasFeedback [nzValidateStatus]="getFormControl('endTime')">
                <nz-datepicker [nzSize]="large" formControlName="endTime" [(ngModel)]="acitivityDto.endTime" nzPlaceHolder="请输入小于等于32的字符"></nz-datepicker>
                <div nz-form-explain *ngIf="getFormControl('endTime').dirty&&getFormControl('endTime').hasError('required')">请输入活动结束时间</div>
            </div>
            <div nz-form-label nz-col [nzSm]="2">
                <label for="activityType" nz-form-item-required>活动分类</label>
            </div>
            <div nz-form-control nz-col [nzSm]="3" nzHasFeedback [nzValidateStatus]="getFormControl('activityType')">
                <nz-radio-group formControlName="activityType" [(ngModel)]="acitivityDto.activityType" class="mb-md">
                    <label nz-radio [nzValue]="1">
                        <span>办事用烟</span>
                    </label>
                </nz-radio-group>
            </div>
        </div>

        <div nz-form-item nz-row>
                <div nz-form-label nz-col [nzSm]="4">
                    <label>未完用烟申请限制</label>
                </div>
                <div nz-form-label nz-col [nzSm]="3">
                    <label for="mUnfinished">客户经理</label>
                </div>
                <div nz-form-control nz-col [nzSm]="4" nzHasFeedback [nzValidateStatus]="getFormControl('mUnfinished')">
                    <nz-input-number [nzSize]="large" [nzStep]="1" [nzMax]="9999" formControlName="mUnfinished" [(ngModel)]="acitivityDto.mUnfinished"></nz-input-number>
                </div>
                <div nz-form-label nz-col [nzSm]="2">
                    <label for="rUnfinished">零售客户</label>
                </div>
                <div nz-form-control nz-col [nzSm]="4" nzHasFeedback [nzValidateStatus]="getFormControl('rUnfinished')">
                    <nz-input-number [nzSize]="large" [nzStep]="1" [nzMax]="9999" formControlName="rUnfinished" [(ngModel)]="acitivityDto.rUnfinished" ></nz-input-number>
                </div>
            </div>

        <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="4">
                <label for="content" nz-form-item-required>活动内容</label>
            </div>
            <div nz-form-control nz-col [nzSm]="20" nzHasFeedback [nzValidateStatus]="getFormControl('content')">
                <nz-input formControlName="content" [(ngModel)]="acitivityDto.content" [nzId]="'content'"></nz-input>
                <div nz-form-explain *ngIf="getFormControl('content').dirty&&getFormControl('content').hasError('required')">请输入活动内容</div>
            </div>
        </div>
        <div nz-form-item nz-row class="mb0">
            <div nz-form-label nz-col [nzSm]="5">
                <button nz-button [nzType]="'primary'" [nzSize]="'large'" type="submit" [nzLoading]="isConfirmLoading">
                    {{l("保存")}}
                </button>
            </div>
        </div>
    </form>
</nz-card>
<nz-card *ngIf="false" [nzBordered]="false">
        <form nz-form  [nzLayout]="'inline'">
                <div nz-row [nzGutter]="24">
                    <ng-template #deleteContent>
                        <h2>是否删除商品{{employeeName}}?</h2>
                    </ng-template>
                    <div nz-col [nzSpan]="8" class="mb-md">
                        <div nz-form-item class="d-flex">
                            <div nz-form-control class="flex-1">
                                <nz-input [(ngModel)]="q.search" name="search" [nzSize]="'large'" [nzPlaceHolder]="'请输入商品名'" nzId="search"></nz-input>
                            </div>
                        </div>
                    </div>
                    <div nz-col [nzSpan]="8" class="mb-md" [class.text-right]="'true'">
                        <button nz-button (click)="refreshData()" [nzType]="'primary'" [nzLoading]="loading" [nzSize]="'large'">查询</button>
                        <button nz-button (click)="createGoods()" [nzType]="'primary'" [nzSize]="'large'">
                            <i class="anticon anticon-plus"></i>
                            <span>新建</span>
                        </button>
                    </div>
                </div>
            </form>
            <nz-table #nzTable [nzAjaxData]="goodes" [nzTotal]="q.total" [(nzPageIndex)]="q.pi" [(nzPageSize)]="q.ps" [nzLoading]="loading"
                [nzShowSizeChanger]="true" (nzPageIndexChange)="refreshData()" (nzPageSizeChange)="refreshData()">
                <thead nz-thead>
                    <tr>
                        <th nz-th>
                            <span>商品规格</span>
                        </th>
                        <th nz-th>
                            <span>活动最小数量限制</span>
                        </th>
                        <th nz-th>
                            <span>活动单次申请最大数量限制</span>
                        </th>
                        <th nz-th>
                            <span>优惠说明</span>
                        </th>
                        <th nz-th>
                            <span>操作</span>
                        </th>
                    </tr>
                </thead>
                <tbody nz-tbody>
                    <tr nz-tbody-tr *ngFor="let goods of nzTable.data">
                        <td nz-td>{{goods.specification}}</td>
                        <td nz-td>{{goods.minNum}}</td>
                        <td nz-td>{{goods.maxNum}}</td>
                        <td nz-td>{{goods.discountDesc}}</td>
                        <td nz-td>
                            <a (click)="editGoods(goods)">编辑</a>
                            <span nz-table-divider></span>
                            <a (click)="delete(goods,deleteContent)">删除</a>
                        </td>
                    </tr>
                </tbody>
            </nz-table>
</nz-card>