<!--component html goes here -->
<nz-card>
    <form nz-form [formGroup]="form" id="frm_create_role" (ngSubmit)="save(modelContent)">
        <ng-template #modelContent>
            <h2>修改之后可能导致微信公众号不能使用，是否继续?</h2>
        </ng-template>
        <div nz-row>
            <div nz-col [nzSpan]="16">
                <div nz-form-item nz-row>
                    <div nz-form-label nz-col [nzSm]="5">
                        <label for="name" nz-form-item-required>微信号名称</label>
                    </div>
                    <div nz-form-control nz-col [nzSm]="19" nzHasFeedback [nzValidateStatus]="getFormControl('name')">
                        <nz-input formControlName="name" [(ngModel)]="authSet.name" [nzId]="'name'"></nz-input>
                        <div nz-form-explain *ngIf="getFormControl('name').dirty&&getFormControl('name').hasError('maxlength')">字符长度小于等于50</div>
                        <div nz-form-explain *ngIf="getFormControl('name').dirty&&getFormControl('name').hasError('required')">请输入微信号名称</div>
                    </div>
                </div>
                <div nz-form-item nz-row>
                    <div nz-form-label nz-col [nzSm]="5">
                        <label for="appOrgId" nz-form-item-required>微信原始ID</label>
                    </div>
                    <div nz-form-control nz-col [nzSm]="19" nzHasFeedback [nzValidateStatus]="getFormControl('appOrgId')">
                        <nz-input formControlName="appOrgId" [(ngModel)]="authSet.appOrgId" [nzId]="'appOrgId'"></nz-input>
                        <div nz-form-explain *ngIf="getFormControl('appOrgId').dirty&&getFormControl('appOrgId').hasError('maxlength')">字符长度小于等于250</div>
                        <div nz-form-explain *ngIf="getFormControl('appOrgId').dirty&&getFormControl('appOrgId').hasError('required')">请输入微信原始ID</div>
                    </div>
                </div>
                <div nz-form-item nz-row>
                    <div nz-form-label nz-col [nzSm]="5">
                        <label for="appType" nz-form-item-required>微信类型</label>
                    </div>
                    <div nz-form-control nz-col [nzSm]="19" nzHasFeedback [nzValidateStatus]="getFormControl('appType')">

                        <nz-radio-group formControlName="appType" [(ngModel)]="authSet.appType" class="mb-md">
                            <label nz-radio [nzValue]="o.value" *ngFor="let o of appTypes">
                                <span>{{o.text}}</span>
                            </label>
                        </nz-radio-group>
                    </div>
                </div>
                <div nz-form-item nz-row>
                    <div nz-form-label nz-col [nzSm]="5">
                        <label for="appId" nz-form-item-required>微信AppID</label>
                    </div>
                    <div nz-form-control nz-col [nzSm]="19" nzHasFeedback [nzValidateStatus]="getFormControl('appId')">
                        <nz-input formControlName="appId" [(ngModel)]="authSet.appId" [nzId]="'appId'"></nz-input>
                        <div nz-form-explain *ngIf="getFormControl('appId').dirty&&getFormControl('appId').hasError('maxlength')">字符长度小于等于250</div>
                        <div nz-form-explain *ngIf="getFormControl('appId').dirty&&getFormControl('appId').hasError('required')">请输入微信AppID</div>
                    </div>
                </div>
                <div nz-form-item nz-row>
                    <div nz-form-label nz-col [nzSm]="5">
                        <label for="appSecret" nz-form-item-required>微信AppSecret</label>
                    </div>
                    <div nz-form-control nz-col [nzSm]="19" nzHasFeedback [nzValidateStatus]="getFormControl('appSecret')">
                        <nz-input formControlName="appSecret" [(ngModel)]="authSet.appSecret" [nzId]="'appSecret'"></nz-input>
                        <div nz-form-explain *ngIf="getFormControl('appSecret').dirty&&getFormControl('appSecret').hasError('maxlength')">字符长度小于等于250</div>
                        <div nz-form-explain *ngIf="getFormControl('appSecret').dirty&&getFormControl('appSecret').hasError('required')">请输入微信AppSecret</div>
                    </div>
                </div>
                <div nz-form-item nz-row>
                    <div nz-form-label nz-col [nzSm]="5">
                        <label for="encodingAESKey">微信EncodingAESKey</label>
                    </div>
                    <div nz-form-control nz-col [nzSm]="19" nzHasFeedback [nzValidateStatus]="getFormControl('encodingAESKey')">
                        <nz-input formControlName="encodingAESKey" [(ngModel)]="authSet.encodingAESKey" [nzId]="'encodingAESKey'"></nz-input>
                        <div nz-form-explain *ngIf="getFormControl('encodingAESKey').dirty&&getFormControl('encodingAESKey').hasError('maxlength')">字符长度小于等于500</div>
                    </div>
                </div>
                <div nz-form-item nz-row>
                    <div nz-form-label nz-col [nzSm]="5">
                        <label for="qrCodeUrl">微信二维码图片URL</label>
                    </div>
                    <div nz-form-control nz-col [nzSm]="19" nzHasFeedback [nzValidateStatus]="getFormControl('qrCodeUrl')">
                        <!-- <nz-input formControlName="qrCodeUrl" [(ngModel)]="authSet.qrCodeUrl" [nzId]="'qrCodeUrl'"></nz-input> -->
                        <!--<label nz-upload nzAccept="image" nzAction="https://jsonplaceholder.typicode.com/posts/">
                    <button nz-button>
                        <i class="anticon anticon-upload"></i>
                        <span>上传</span>
                    </button>
                    <div ><nz-avatar nzSize="large" nzSrc="authSet.qrCodeUrl"></nz-avatar></div>
                   
                </label>-->
                        <!--<img [src]="authSet.qrCodeUrl" >-->
                        <img src="{{authSet.qrCodeUrl}}">
                        <!-- <img src="./assets/img/weixin.jpg"> -->
                        <!-- <div nz-form-explain *ngIf="getFormControl('qrCodeUrl').dirty&&getFormControl('qrCodeUrl').hasError('maxlength')">字符长度小于等于250</div> -->
                    </div>
                </div>
                <div nz-form-item nz-row>
                    <div nz-form-label nz-col [nzSm]="5">
                        <label for="token" nz-form-item-required>微信Token</label>
                    </div>
                    <div nz-form-control nz-col [nzSm]="19" nzHasFeedback [nzValidateStatus]="getFormControl('token')">
                        <nz-input formControlName="token" [(ngModel)]="authSet.token" [nzId]="'token'"></nz-input>
                        <div nz-form-explain *ngIf="getFormControl('token').dirty&&getFormControl('token').hasError('maxlength')">字符长度小于等于250</div>
                        <div nz-form-explain *ngIf="getFormControl('token').dirty&&getFormControl('token').hasError('required')">请输入角色显示名</div>
                    </div>
                </div>
                <!-- <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="4">
                <label for="accessToken">微信access_token</label>
            </div>
            <div nz-form-control nz-col [nzSm]="20" nzHasFeedback [nzValidateStatus]="getFormControl('accessToken')">
                <nz-input formControlName="accessToken" [(ngModel)]="authSet.accessToken" [nzId]="'accessToken'"></nz-input>
                <div nz-form-explain *ngIf="getFormControl('accessToken').dirty&&getFormControl('accessToken').hasError('maxlength')">字符长度小于等于255</div>
            </div>
        </div>
        <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="4">
                <label for="expiresIn">微信expires_in</label>
            </div>
            <div nz-form-control nz-col [nzSm]="20" nzHasFeedback [nzValidateStatus]="getFormControl('expiresIn')">
                <nz-input formControlName="expiresIn" [(ngModel)]="authSet.expiresIn" [nzId]="'expiresIn'"></nz-input>
            </div>
        </div>
        <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="4">
                <label for="nextGettime">微信next_gettime</label>
            </div>
            <div nz-form-control nz-col [nzSm]="20" nzHasFeedback [nzValidateStatus]="getFormControl('nextGettime')">
                <nz-input formControlName="nextGettime" [(ngModel)]="authSet.nextGettime" [nzId]="'nextGettime'"></nz-input>
            </div>
        </div> -->
                <div nz-form-item nz-row class="mb0">
                    <div nz-form-label nz-col [nzSm]="5">
                        <!-- <button nz-button [nzType]="'default'" [nzSize]="'large'" type="button" (click)="handleCancel($event)">
                    {{l("取消")}}
                </button> -->
                        <button nz-button [nzType]="'primary'" [nzSize]="'large'" type="submit">
                            {{l("保存")}}
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </form>
</nz-card>